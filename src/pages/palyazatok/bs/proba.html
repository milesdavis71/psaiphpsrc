<style type="text/css">
  // Function to convert px to rems
  @function remy($value, $base: 16px) {
    @return ($value / $base) * 1rem;
  }

  // Variables
  $breakpoint-xlarge: 1200px;

  /* Base resets */
  html {
    font-size: 16px;
  }

  body {
    font-size: 100%;
  }

  /* Extending Foundation grid */
  @media screen and (min-width: $breakpoint-xlarge) {
    .xlarge-1 {
      flex: 0 0 8.33333%;
      max-width: 8.33333%
    }
    .xlarge-2 {
      flex: 0 0 16.66667%;
      max-width: 16.66667%
    }
    .xlarge-3 {
      flex: 0 0 25%;
      max-width: 25%
    }
    .xlarge-4 {
      flex: 0 0 33.33333%;
      max-width: 33.33333%
    }
    .xlarge-5 {
      flex: 0 0 41.66667%;
      max-width: 41.66667%
    }
    .xlarge-6 {
      flex: 0 0 50%;
      max-width: 50%
    }
    .xlarge-7 {
      flex: 0 0 58.33333%;
      max-width: 58.33333%
    }
    .xlarge-8 {
      flex: 0 0 66.66667%;
      max-width: 66.66667%
    }
    .xlarge-9 {
      flex: 0 0 75%;
      max-width: 75%
    }
    .xlarge-10 {
      flex: 0 0 83.33333%;
      max-width: 83.33333%
    }
    .xlarge-11 {
      flex: 0 0 91.66667%;
      max-width: 91.66667%
    }
    .xlarge-12 {
      flex: 0 0 100%;
      max-width: 100%
    }
  }

  /* Override for Foundation reveal overlay */
  .reveal-overlay {
    overflow: auto;
  }

  /* Override for Foundation reveal (modal) */
  .gallery-reveal {
    position: absolute;
    top: 50%;
    left: 50%;
    min-height: 1px;
    height: auto;
    border: 0;
    box-shadow: 0 remy(2px) remy(4px) rgba(0, 0, 0, .5);
    transform: translate(-50%, -50%);
  }

  /* Custom styles for author */
  .modal-author {
    margin-bottom: remy(8px);
    font-size: remy(16px);
  }

  .close-button {
    transition: color .25s cubic-bezier(.4, 0, 1, 1);
  }

</style>

<script type="text/javascript">
  //
  // No external JavaScript libraries are used or required
  // Plugins used are autoprefixer and babel
  //
  (() => {
    'use strict';

    // Create object literal with project variables
    const galleryVariables = {
      galleryAuthor: document.querySelector('.js-modal-author'),
      galleryButton: document.querySelector('.js-close-button'),
      galleryLinks: document.querySelectorAll('a[data-toggle="galleryModal"]'),
      galleryModal: document.querySelector('.js-gallery-reveal'),
      galleryOverlay: document.querySelector('.js-gallery-overlay'),
      galleryPreview: document.querySelector('.js-modal-preview'),
      galleryPreviewAuthor: document.querySelector('.js-modal-author')
    }

    // Fade in function
    const fadeIn = (element) => {
      // Create variable with initial opacity
      let elementOpacity = 0.1;

      // Create timer for fadeIn function
      let timer = setInterval(() => {
        if (elementOpacity >= 1) {
          // Reset interval
          clearInterval(timer);
        }

        // Set element opacity to elementOpacity
        element.style.opacity = elementOpacity;

        // Increase value of elementOpacity
        elementOpacity += elementOpacity * 0.1;

        // Show element
        element.style.display = 'block';
      }, 15);
    }

    // Fade out function
    const fadeOut = (element) => {
      // Create variable with initial opacity
      let elementOpacity = 1;

      // Create timer for fadeOut function
      let timer = setInterval(() => {
        if (elementOpacity <= 0.1) {
          // Reset interval
          clearInterval(timer);

          // Hide element
          element.style.display = 'none';
        }

        // Set element opacity to elementOpacity
        element.style.opacity = elementOpacity;

        // Decrease value of elementOpacity
        elementOpacity -= elementOpacity * 0.1;
      }, 15);
    }

    // Open reveal dialog by clicking on images
    for (let x = 0, y = galleryVariables.galleryLinks.length; x < y; x++) {
      // Add event listener for image containers
      galleryVariables.galleryLinks[x].addEventListener('click', (e) => {
        e.preventDefault();

        // Get clicked image
        let image = e.target;

        // Get src of the image
        let imageSrc = image.getAttribute('src');

        // Get alt of the image
        let imageAlt = image.getAttribute('alt');

        // Set alt attribute of preview image to clicked image
        galleryVariables.galleryPreview.setAttribute('alt', imageAlt);

        // Set src attribute of preview image to clicked image
        galleryVariables.galleryPreview.setAttribute('src', imageSrc);

        // Set preview headline to alt of clicked phot
        galleryVariables.galleryPreviewAuthor.textContent = imageAlt;
        
        // Avoid openning modal unless its content is loaded
        if (galleryVariables.galleryPreview.getAttribute('src').length > 0 && galleryVariables.galleryPreview.getAttribute('alt').length > 0 && galleryVariables.galleryPreviewAuthor.textContent.length > 0) {
          // Add Foundation class to hide overflow
          document.body.classList.add('is-reveal-open');

          // Show modal dialog
          galleryVariables.galleryModal.style.display = 'block';

          // Show modal overlay (fade it in)
          fadeIn(galleryVariables.galleryOverlay);
        }
      });
    }

    // Close reveal dialog
    galleryVariables.galleryButton.addEventListener('click', (e) => {
      e.preventDefault();

      // Hide modal overlay (fade it out)
      fadeOut(galleryVariables.galleryOverlay);
      
      // Wait before overlay fades out
      setTimeout(() => {
        // Hide modal dialog
        galleryVariables.galleryModal.style.display = 'none';
        
        // Reset alt attribute of preview image
        galleryVariables.galleryPreview.setAttribute('alt', '');

        // Reset src attribute of preview image
        galleryVariables.galleryPreview.setAttribute('src', '');

        // Reset text for preview headline
        galleryVariables.galleryPreviewAuthor.textContent = '';

        // Remove Foundation class to hide overflow
        document.body.classList.remove('is-reveal-open');
      }, 250);
    });
  })();

</script>


<!-- Gallery wrapper -->
<div class="gallery-wrapper row expanded">
  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/zZzKLzKP24o/600x600" alt="Photo by Caleb George" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/3YfSwCfJ6Do/600x600" alt="Photo by Garth Pratt" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/8Pd8yCjjKIQ/600x600" alt="Photo by Maxime Le Conte des Floris" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/2Bjq3A7rGn4/600x600" alt="Photo by Martin Jernberg" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/EDqP5r_QwrE/600x600" alt="Photo by Alec Weir" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/IEqPWQvnR1E/600x600" alt="Photo by Jaclyn Clark" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/4KgtxwMeLYw/600x600" alt="Photo by Andrew Collins" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/GnU2altkUSQ/600x600" alt="Photo by Clem Onojeghuo" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/Yfyt6q8gjaQ/600x600" alt="Photo by Clem Onojeghuo" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/8soQzdz9XXA/600x600" alt="Photo by Clem Onojeghuo" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/myFsTTkub9E/600x600" alt="Photo by Scott Webb" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/3kmDKoHY7as/600x600" alt="Photo by Matheus Ferrero" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/ZMRMFULofus/600x600" alt="Photo by Joel Filipe" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/n3FM6tfn9XQ/600x600" alt="Photo by Aaron Barnaby" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/SdEDmcrJOE4/600x600" alt="Photo by Geetanjal Khanna" />
    </a>
  </div>

  <div class="medium-6 large-3 xlarge-2">
    <a href="#" data-toggle="galleryModal">
      <img src="https://source.unsplash.com/6hC831t-ihM/600x600" alt="Photo by Anton Romanov" />
    </a>
  </div>
</div><!-- .end Gallery wrapper -->

<!-- Gallery overlay -->
<div class="js-gallery-overlay gallery-overlay reveal-overlay">
  <!-- Gallery modal -->
  <div class="js-gallery-reveal gallery-reveal reveal" id="galleryModal" data-reveal data-overlay="true">
    <h2 class="js-modal-author modal-author"></h2>

    <img class="js-modal-preview modal-preview" src="" alt="" />

    <button class="js-close-button close-button" data-close aria-label="Close modal" type="button">
      <span aria-hidden="true">&times;</span>
    </button>
  </div><!-- .end Gallery modal -->
</div><!-- .end Gallery overlay -->
